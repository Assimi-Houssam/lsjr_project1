// ...new file...
datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "windows"]
}

model user {
  id     String  @id @default(cuid())
  userId String? @unique
  token  String? @unique
  url    String?
}

model Session {
  id           String        @id @default(cuid())
  sessionId    String        @unique
  name         String
  createdAt    DateTime      @default(now())
  synced       Boolean       @default(false)
  participants Participant[]
}

model lsgrResult {
  id            String      @id @default(cuid())
  participantId String      
  participant   Participant @relation(fields: [participantId], references: [id] , onDelete: Cascade)
  lsgr1         Boolean     @default(false)
  lsgr2         Boolean     @default(false)
  lsgr3         Boolean     @default(false)
  lsgr4         Boolean     @default(false)
  lsgr5         Boolean     @default(false)
  lsgr6         Boolean     @default(false)
  lsgr7         Boolean     @default(false)
  lsgr8         Boolean     @default(false)
  lsgr9         Boolean     @default(false)
  lsgr10        Boolean     @default(false)
  result        Boolean     @default(false)
  createdAt     DateTime    @default(now())
}


model otherqcm {
  id            String      @id @default(cuid())
  participantId String      
  participant   Participant @relation(fields: [participantId], references: [id] , onDelete: Cascade)
  qcm1         Boolean     @default(false)
  qcm2         Boolean     @default(false)
  qcm3         Boolean     @default(false)
  qcm4         Boolean     @default(false)
  qcm5         Boolean     @default(false)
  qcm6         Boolean     @default(false)
  qcm7         Boolean     @default(false)
  qcm8         Boolean     @default(false)
  qcm9         Boolean     @default(false)
  qcm10        Boolean     @default(false)
  result       Boolean     @default(false)
  createdAt     DateTime    @default(now())
}

model Participant {
  id        String      @id @default(cuid())
  session   Session     @relation(fields: [sessionId], references: [id], onDelete: Cascade)
  sessionId String
  name      String
  company   String
  cin       String
  motif     String
  results   lsgrResult[]
  otherqcm  otherqcm[]
  createdAt DateTime    @default(now())
  synced    Boolean     @default(false)
}
